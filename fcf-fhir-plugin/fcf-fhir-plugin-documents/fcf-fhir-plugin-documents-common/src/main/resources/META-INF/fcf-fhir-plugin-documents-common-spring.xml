<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:fcp="http://www.fujionclinical.org/schema/plugin"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.fujionclinical.org/schema/plugin
		http://www.fujionclinical.org/schema/plugin/plugin-extensions.xsd">

    <beans profile="root">

        <fcp:plugin url="web/org/fujionclinical/fhir/plugin/documents/common/documentMain.fsp"
                    id="fcfFhirDocuments" name="Clinical Documents Display">
            <fcp:resource>
                <fcp:help-resource module="fcfFhirDocumentsHelp"/>
                <fcp:property-resource group="DOCUMENT.CONTROLS"/>
                <fcp:bean-resource bean="fcfFhirDocumentsActionStatus"
                                   required="true"/>
            </fcp:resource>

            <fcp:serialization>
                <fcp:property name="Fixed Category" id="fixedFilter" type="enum"
                              description="To restrict documents to a specific category, set this to the category name.">
                    <fcp:config>
                        <fcp:entry key="bean">documentTypeEnumerator</fcp:entry>
                    </fcp:config>
                </fcp:property>
            </fcp:serialization>

            <fcp:security requiresAll="false">
            </fcp:security>
        </fcp:plugin>

    </beans>

    <beans profile="child">

        <!-- Controllers -->
        <bean id="fcfFhirDocumentsMainController"
              class="org.fujionclinical.fhir.plugin.documents.${fhir.context.version}.DocumentMainController"
              scope="prototype"/>

        <bean id="fcfFhirDocumentsListController"
              class="org.fujionclinical.fhir.plugin.documents.${fhir.context.version}.DocumentListController"
              scope="prototype">
            <constructor-arg ref="fhirDocumentService"/>
        </bean>

        <bean id="fcfFhirDocumentsDisplayController"
              class="org.fujionclinical.fhir.plugin.documents.${fhir.context.version}.DocumentDisplayController"
              scope="prototype">
            <constructor-arg ref="fhirDocumentService"/>
        </bean>

        <bean id="fcfFhirDocumentsActionStatus" lazy-init="true"
              class="org.fujionclinical.fhir.plugin.documents.${fhir.context.version}.ActionStatus">
        </bean>

    </beans>
</beans>
